/**
 * Emergency swatch visibility fix
 * This ensures the color swatch is visible by using !important rules
 * and a high z-index to override all other styles
 */

/* Fix for image uploader color swatches */
.image-preview .color-swatch {
    position: absolute !important;
    bottom: 8px !important;
    left: 8px !important;
    width: 30px !important;
    height: 30px !important;
    border-radius: 4px !important;
    border: 3px solid white !important;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.8) !important;
    z-index: 999 !important; /* Extremely high z-index to ensure it's on top */
    opacity: 1 !important;
    display: block !important;
    pointer-events: auto !important;
    visibility: visible !important;
}

/* Fix for settings panel color swatches */
#customColorsList .color-swatch {
    position: relative !important;
    display: inline-block !important;
    width: 35px !important;
    height: 35px !important;
    margin: 5px !important;
    border-radius: 4px !important;
    border: 2px solid white !important;
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.5) !important;
    cursor: pointer !important;
    opacity: 1 !important;
    overflow: visible !important;
    visibility: visible !important;
}

/* Style for the close button on settings panel color swatches */
#customColorsList .color-swatch button {
    position: absolute !important;
    top: -5px !important;
    right: -5px !important;
    width: 20px !important; /* Exact match with height */
    height: 20px !important;
    min-width: 20px !important; /* Force minimum width */
    max-width: 20px !important; /* Force maximum width */
    background-color: rgba(231, 76, 60, 0.9) !important;
    color: white !important;
    border-radius: 999px !important; /* Use a large value to ensure roundness */
    border: 1px solid white !important;
    font-size: 12px !important;
    line-height: 1 !important; /* Reset line height */
    padding: 0 !important;
    margin: 0 !important; /* Reset margins */
    text-align: center !important;
    cursor: pointer !important;
    z-index: 1000 !important;
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.3) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden !important; /* Prevent content from breaking circular shape */
    box-sizing: border-box !important; /* Include border in dimensions */
}

/* Ensure the parent container is properly set up for absolute positioning */
.image-preview {
    position: relative !important;
    overflow: visible !important; /* Allow elements to be visible outside the container */
    min-height: 100px !important;
}

/* Make sure the image doesn't cover the swatch */
.image-preview img {
    position: relative !important;
    z-index: 1 !important;
}

/* Force the swatch to be visible with additional styling */
.image-preview:hover .color-swatch {
    transform: scale(1.1) !important;
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.5) !important;
}

/* Make sure custom colors section is visible */
#customColorsSetting {
    display: block !important;
    margin-top: 10px !important;
}

/* Make the custom colors list flex and wrap properly */
#customColorsList {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 10px !important;
    margin-top: 10px !important;
}